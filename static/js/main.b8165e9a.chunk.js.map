{"version":3,"sources":["App.module.css","components/Main.module.css","components/Main.js","components/Logo.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","random","limit","Math","floor","halfRandom","drawRandomLine","ctx","width","height","startX","startY","moveTo","endX","endY","lineTo","drawRandomCurve","startBezierX","startBezierY","endBezierX","endBezierY","bezierCurveTo","getPoint","sketchElement","event","current","getBoundingClientRect","top","left","x","pageX","window","pageXOffset","y","pageY","pageYOffset","Main","useState","mouseDown","setMouseDown","pointState","setPointState","useRef","startNewSquiggle","useCallback","canvas","setAttribute","fixCanvasScale","getContext","clearRect","lineParams","beginPath","i","lineWidth","lineCap","stroke","drawRandomSquiggle","useEffect","onMouseMove","newPointState","a","b","c","d","firstControl","getFirstControlPoint","secondControl","getSecondControlPoint","strokeStyle","smoothLine","Container","className","styles","container","drawingArea","ref","onMouseDown","point","onMouseUp","buttonContainer","Fab","variant","color","onClick","Logo","viewBox","fill","xmlns","strokeWidth","theme","createMuiTheme","palette","primary","main","dark","secondary","App","ThemeProvider","app","header","AppBar","position","appBar","headerText","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b8165e9a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"header\":\"App_header__3ZZ1n\",\"appBar\":\"App_appBar__VaADL\",\"headerText\":\"App_headerText__1Yih3\",\"main\":\"App_main__3ZkGI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Main_container__1DBl6\",\"buttonContainer\":\"Main_buttonContainer__3A4h2\",\"drawingArea\":\"Main_drawingArea__1z_pU\",\"canvas\":\"Main_canvas__38O29\"};","import { useRef, useState, useEffect, useCallback } from 'react'\nimport Fab from '@material-ui/core/Fab'\nimport Container from '@material-ui/core/Container'\nimport AddIcon from '@material-ui/icons/Add'\nimport styles from './Main.module.css'\n\nfunction random(limit) {\n  return Math.floor(Math.random() * limit)\n}\nfunction halfRandom(limit) {\n  return Math.floor(Math.random() * limit / 2) + limit / 4\n}\n\nfunction drawRandomSquiggle(ctx, width, height) {\n  ctx.beginPath()\n  let lineParams\n  for (let i = 0; i < random(5) + 2; i++) {\n    if (Math.random() > .5) {\n      lineParams = drawRandomCurve(ctx, width, height, lineParams)\n    } else {\n      lineParams = drawRandomLine(ctx, width, height, lineParams)\n    }\n  }\n  // ctx.strokeStyle = penColor\n  ctx.lineWidth = 5\n  ctx.lineCap = 'round'\n  ctx.stroke()\n}\n\nfunction drawRandomLine(ctx, width, height, { startX = null, startY = null } = {}) {\n  if (!startX) {\n    startX = halfRandom(width)\n  }\n  if (!startY) {\n    startY = halfRandom(height)\n  }\n  ctx.moveTo(startX, startY)\n  const endX = halfRandom(width)\n  const endY = halfRandom(height)\n  ctx.lineTo(endX, endY)\n  return { startX: endX, startY: endY }\n}\n\nfunction drawRandomCurve(ctx, width, height, { startX = null, startY = null, startBezierX, startBezierY } = {}) {\n  if (!startX) {\n    startX = halfRandom(width)\n  }\n  if (!startY) {\n    startY = halfRandom(height)\n  }\n  ctx.moveTo(startX, startY)\n  const endX = halfRandom(width)\n  const endY = halfRandom(height)\n  if (!startBezierX) {\n    startBezierX = startX < endX ? startX + random(width / 2) : startX - random(width / 2)\n  }\n  if (!startBezierY) {\n    startBezierY = startY < endY ? startY + random(width / 2) : startY - random(width / 2)\n  }\n  const endBezierX = startX < endX ? endX - random(width / 2) : endX + random(width / 2)\n  const endBezierY = startY < endY ? endY - random(width / 2) : endY + random(width / 2)\n  ctx.bezierCurveTo(startBezierX, startBezierY, endBezierX, endBezierY, endX, endY)\n  return { startX: endX, startY: endY, startBezierX: 2 * endX - endBezierX, startBezierY: 2 * endY - endBezierY }\n}\n\n// Values between 5 and 10 seem to work best. Too high, and it doesn't smooth much. Too low, and it makes swoopy artifacts.\nconst SMOOTHING_FACTOR = 6\n\nexport function getFirstControlPoint({ a, b, c}) {\n  const x = b.x + (c.x - a.x) / SMOOTHING_FACTOR\n  const y = b.y + (c.y - a.y) / SMOOTHING_FACTOR\n  return { x, y }\n}\n\nexport function getSecondControlPoint({ b, c, d}) {\n  const x = c.x + (b.x - d.x) / SMOOTHING_FACTOR\n  const y = c.y + (b.y - d.y) / SMOOTHING_FACTOR\n  return { x, y }\n}\n\nfunction smoothLine(ctx, { a, b, c, d }) {\n  // Draw a line between B and C. Use the slope of the surrounding points to calculate control points.\n  ctx.beginPath()\n  ctx.moveTo(b.x, b.y)\n  const firstControl = getFirstControlPoint({ a, b, c })\n  const secondControl = getSecondControlPoint({ b, c, d })\n  ctx.bezierCurveTo(firstControl.x, firstControl.y, secondControl.x, secondControl.y, c.x, c.y)\n  ctx.strokeStyle = 'black'\n  ctx.lineWidth = 3\n  ctx.lineCap = 'smooth'\n  ctx.stroke()\n}\n\nfunction getPoint (sketchElement, event) {\n  const { top, left } = sketchElement.current.getBoundingClientRect()\n  return { x: event.pageX - left - window.pageXOffset, y: event.pageY - top - window.pageYOffset }\n}\n\nexport default function Main() {\n  const [mouseDown, setMouseDown] = useState(false)\n  const [pointState, setPointState] = useState({})\n  const sketchElement = useRef()\n\n  const fixCanvasScale = () => {\n    const canvas = sketchElement.current\n    const { width, height } = canvas.getBoundingClientRect()\n    canvas.setAttribute('width', width)\n    canvas.setAttribute('height', height)\n    return { width, height }\n  }\n\n  const startNewSquiggle = useCallback(() => {\n    // Scale canvas to 1:1 with pixel size.\n    const canvas = sketchElement.current\n    const { width, height } = fixCanvasScale()\n\n    // Clear canvas\n    const ctx = canvas.getContext('2d')\n    ctx.clearRect(0, 0, width, height)\n\n    // Draw squiggle\n    drawRandomSquiggle(ctx, width, height)\n  }, [sketchElement])\n\n  // Reset the canvas on window resize to avoid weird offset issues.\n  // It's not the optimal solution, but prevents a pretty confusing bug.\n  // useEffect(() => {\n  //   const resizeHandler = () => {\n  //     fixCanvasScale()\n  //     startNewSquiggle()\n  //   }\n  //\n  //   window.addEventListener('resize', resizeHandler)\n  //   return () => {\n  //     window.removeEventListener('resize', resizeHandler)\n  //   }\n  // })\n\n  useEffect(() => {\n    startNewSquiggle()\n  }, [startNewSquiggle])\n\n  const onMouseDown = (event) => {\n    setMouseDown(true)\n    const point = getPoint(sketchElement, event)\n    setPointState({ b: point, c: point, d: point })\n  }\n\n  const onMouseUp = (event) => {\n    onMouseMove(event)\n    onMouseMove(event)\n    setMouseDown(false)\n  }\n\n  const onMouseMove = (event) => {\n    if (mouseDown) {\n      const newPointState = { a: pointState.b, b: pointState.c, c: pointState.d, d: getPoint(sketchElement, event) }\n      smoothLine(sketchElement.current.getContext('2d'), newPointState)\n      setPointState(newPointState)\n    }\n  }\n\n  return (\n    <Container className={styles.container}>\n      <div className={styles.drawingArea}>\n        <canvas ref={sketchElement}\n          className={styles.canvas}\n          onMouseMove={onMouseMove}\n          onMouseDown={onMouseDown}\n          onMouseUp={onMouseUp}\n          // onMouseLeave={drawMouseLeave}\n          // onTouchStart={event => setPositionAndDraw(event, false)}\n          // onTouchMove={setPositionAndDraw}\n          // onTouchEnd={setPositionAndDraw}\n          />\n      </div>\n      <div className={styles.buttonContainer}>\n        <Fab variant='extended' color='secondary' onClick={startNewSquiggle}>\n          <AddIcon />\n          New Squiggle\n        </Fab>\n      </div>\n    </Container>\n  )\n}\n","export default function Logo() {\n  return (\n  <svg width=\"18\" height=\"20\" viewBox=\"0 0 18 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M17.0934 2.94646C17.0934 2.94646 10.2988 1.42683 8.75689 4.67678C7.46154 7.40707 12.4104 10.0948 10.4488 12.2908C8.4618 14.5152 5.81458 8.5606 3.48503 10.3313C1.03328 12.1949 3.04302 18.7009 3.04302 18.7009\" stroke=\"#4DD0E1\" strokeWidth=\"2\"/>\n  </svg>\n  )\n}","import styles from './App.module.css'\nimport AppBar from '@material-ui/core/AppBar'\nimport Main from './components/Main'\nimport Logo from './components/Logo'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport { ThemeProvider } from '@material-ui/styles'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#4DD0E1',\n      dark: '#00ACC1'\n    },\n    secondary: {\n      main: '#FFEB3B',\n      dark: '#FDD835'\n    }\n  },\n})\n\nexport default function App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <div className={styles.app}>\n        <div className={styles.header}>\n          <AppBar color='transparent' position='relative' className={styles.appBar}>\n            <div className={styles.headerText}>\n              <Logo />\n              squiggler\n            </div>\n          </AppBar>\n        </div>\n        <div className={styles.main}>\n          <Main />\n        </div>\n      </div>\n    </ThemeProvider>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}